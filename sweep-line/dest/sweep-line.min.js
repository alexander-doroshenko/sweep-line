/*! sweep-line 05-07-2017 */

!function t(e,r,a){function i(o,f){if(!r[o]){if(!e[o]){var s="function"==typeof require&&require;if(!f&&s)return s(o,!0);if(n)return n(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=r[o]={exports:{}};e[o][0].call(h.exports,function(t){var r=e[o][1][t];return i(r||t)},h,h.exports,t,e,r,a)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(t,e,r){function a(t){this.root=t}a.prototype.add=function(t,e){null!==t.after&&(t.after.before=e),e.after=t.after,t.after=e,e.before=t},a.prototype.find=function(t){for(var e=this.root;null!==e;){if(e.b.x>=t.x)return e;e=e.after}return null},a.prototype.maxElement=function(){for(var t=this.root;t.after;)t=t.after;return t},a.prototype.minElement=function(){return this.root},a.prototype.remove=function(t){null!==t.before&&(t.before.after=t.after),null!==t.after&&(t.after.before=t.before),this.root===t&&(this.root=t.after)},e.exports=a},{}],2:[function(t,e,r){var a=function(t,e,r){this.a=t,this.b=e,this.parent=null,this.left=null,this.right=null,this.height=1,this.before=null,this.after=null,this.adjA=r||null};a.prototype.rotateToNeighbor=function(t){},a.prototype.classify=function(t){var e=this.b.y-this.a.y,r=this.a.x-this.b.x,a=e*this.a.x+r*this.a.y,i=t.x*e+t.y*r-a;return i>0?1:i<0?-1:0},a.prototype.angleMoreHalfPi=function(t){var e=this.a.x-this.b.x,r=this.a.y-this.b.y;return e*(t.x-this.b.x)+r*(t.y-this.b.y)>0},a.prototype.toString=function(){return"Edge: ("+this.a+","+this.b+")"},e.exports=a},{}],3:[function(t,e,r){function a(t,e){this.x=t,this.y=e}a.prototype.add=function(t){return new a(this.x+t.x,this.y+t.y)},a.prototype.sub=function(t){return new a(this.x-t.x,this.y-t.y)},a.prototype.dist=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},a.prototype.toString=function(){return"["+this.x+","+this.y+"]"},e.exports=a},{}],4:[function(t,e,r){(function(e){"use strict";function r(){}r.Point=t("./point"),r.Triangle=t("./triangle"),r.triangulate=t("./triangulation"),e.SweepLine=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./point":3,"./triangle":5,"./triangulation":6}],5:[function(t,e,r){function a(t,e,r,a,i,n){this.a=t,this.b=e,this.c=r,this.adjA=a||null,this.adjB=i||null,this.adjC=n||null}var i=t("./point");a.prototype.rotateToNeighbor=function(t){this.adjA!==t&&(this.adjB===t?this.rotateCCW():this.rotateCW())},a.prototype.rotateCW=function(){var t=this.c;this.c=this.b,this.b=this.a,this.a=t,t=this.adjC,this.adjC=this.adjB,this.adjB=this.adjA,this.adjA=t},a.prototype.rotateCCW=function(){var t=this.a;this.a=this.b,this.b=this.c,this.c=t,t=this.adjA,this.adjA=this.adjB,this.adjB=this.adjC,this.adjC=t},a.prototype.circumCircleTest=function(t){var e=this.a.x-t.x,r=this.a.y-t.y,a=this.b.x-t.x,i=this.b.y-t.y,n=this.c.x-t.x,o=this.c.y-t.y,f=e*(this.a.x+t.x)+r*(this.a.y+t.y),s=a*(this.b.x+t.x)+i*(this.b.y+t.y),d=n*(this.c.x+t.x)+o*(this.c.y+t.y);return e*(i*d-s*o)-a*(r*d-f*o)+n*(r*s-f*i)<0},a.prototype.getCircumCenter=function(){var t=this.b.x-this.a.x,e=this.b.y-this.a.y,r=this.c.x-this.a.x,a=this.c.y-this.a.y,n=2*(t*a-e*r),o=t*t+e*e,f=r*r+a*a,s=(t*f-r*o)/n;return new i((a*o-e*f)/n+this.a.x,s+this.a.y)},a.prototype.getVertices=function(){return[this.a,this.b,this.c]},a.prototype.toString=function(){return"Triangle: ("+this.a+","+this.b+","+this.c+")"},e.exports=a},{"./point":3}],6:[function(t,e,r){function a(t){t.sort(function(t,e){return Math.abs(t.y-e.y)>y?t.y-e.y:t.x-e.x});for(var e=1;e<t.length;e++)Math.abs(t[e].x-t[e-1].x)<y&&Math.abs(t[e].y-t[e-1].y)<y&&t.splice(e,1);var r=i(t),a=new c(r.a,r.b,r),o=new c(r.b,r.c,r);r.adjA=o,r.adjC=a;var f=new AvlTree(a);return f.add(f.root,o),s(f,n(t,f,[r]))}function i(t){for(var e=t[t.length-1].y,r=t[0].y,a=t[0].x,i=t[0].x,n=t.length;n--;)t[n].x<a&&(a=t[n].x),t[n].x>i&&(i=t[n].x);var o=new j(a-.3*(i-a),r-.3*(e-r)),f=new j(i+.3*(i-a),r-.3*(e-r));return new b(o,t[0],f)}function n(t,e,r){for(var a=1;a<t.length;a++){var i=e.find(t[a]);t[a].x-i.a.x<y?o(t[a],i.before,e,r):i.b.x-t[a].x<y?o(t[a],i,e,r):f(t[a],i,e,r)}return r}function o(t,e,r,a){var i=new b(t,e.b,e.a,e.adjA);e.adjA.rotateToNeighbor(e),e.adjA.adjA=i;var n=new c(e.a,t,i);i.adjB=n;var o=new b(t,e.after.b,e.after.a,e.after.adjA);e.after.adjA.rotateToNeighbor(e.after),e.after.adjA.adjA=o;var f=new c(t,e.after.b,o);o.adjC=f,i.adjC=o,o.adjB=i,r.add(e.after,f),r.add(e.after,n),r.remove(e.after),r.remove(e);var s=[[i,o],[i,i.adjA],[o,o.adjA]];for(l(s[0][0],s[0][1])||l(s[1][0],s[1][1])||l(s[2][0],s[2][1]),a.push(i,o);null!==n.before&&n.before.angleMoreHalfPi(n.b);)n=u(n.before,n,r,a);for(;null!==f.after&&f.angleMoreHalfPi(f.after.b);)f=u(f,f.after,r,a)}function f(t,e,r,a){var i=new b(t,e.b,e.a,e.adjA),n=new c(e.a,t,i),o=new c(t,e.b,i);for(e.adjA.rotateToNeighbor(e),e.adjA.adjA=i,r.add(e,o),r.add(e,n),r.remove(e),i.adjB=n,i.adjC=o,a.push(i),l(i,i.adjA);null!==n.before&&n.before.angleMoreHalfPi(n.b);)n=u(n.before,n,r,a);for(;null!==o.after&&o.angleMoreHalfPi(o.after.b);)o=u(o,o.after,r,a)}function s(t,e){for(var r=t.minElement();;){if(null===r.adjA.adjA||null===r.adjA.adjB||null===r.adjA.adjC){t.remove(r);break}r=d(r,t)[0]}for(r=t.maxElement();;){if(null===r.adjA.adjA||null===r.adjA.adjB||null===r.adjA.adjC){r.adjA.isDeleted=!0,t.remove(r);break}r=d(r,t)[1]}h(t,e);var a=[];for(var i in e)e[i].isDeleted||a.push(e[i]);for(r=t.minElement();null!==r;r=r.after)r.adjA.rotateToNeighbor(r),r.adjA.adjA=null;return a}function d(t,e){var r=t.adjA;r.rotateToNeighbor(t),r.isDeleted=!0;var a=new c(r.a,r.c,r.adjB);r.adjB.rotateToNeighbor(r),r.adjB.adjA=a,e.add(t,a);var i=new c(r.b,r.a,r.adjC);return r.adjC.rotateToNeighbor(r),r.adjC.adjA=i,e.add(t,i),e.remove(t),[i,a]}function h(t,e){for(var r,a=t.minElement();null!==a.after;)r=a.after,-1===a.classify(r.b)?null!==(a=u(a,r,t,e)).before&&(a=a.before):a=a.after;for(;;)if(a=t.minElement(),-1!==(r=t.maxElement()).classify(a.b)){if(-1!==r.before.classify(r.b))break;r=u(r.before,r,t,e)}else r=u(r,a,t,e)}function u(t,e,r,a){var i=new c(t.a,e.b),n=new b(e.b,e.a,t.a,t.adjA,i,e.adjA);return t.adjA.rotateToNeighbor(t),t.adjA.adjA=n,e.adjA.rotateToNeighbor(e),e.adjA.adjA=n,i.adjA=n,a.push(n),r.add(t,i),r.remove(t),r.remove(e),l(n,t.adjA)||l(n,e.adjA),i}function l(t,e){if(null===t||null===e)return!1;if(!("adjB"in t&&"adjB"in e))return!1;if(t.rotateToNeighbor(e),e.rotateToNeighbor(t),t.circumCircleTest(e.a)){t.c=e.a,e.c=t.a,null!==t.adjB&&(t.adjB.rotateToNeighbor(t),t.adjB.adjA=e),e.adjA=t.adjB,t.adjB=e,null!==e.adjB&&(e.adjB.rotateToNeighbor(e),e.adjB.adjA=t),t.adjA=e.adjB,e.adjB=t;var r=[[t,t.adjA],[t,t.adjC],[e,e.adjA],[e,e.adjC]];return l(r[0][0],r[0][1])||l(r[1][0],r[1][1]),l(r[2][0],r[2][1])||l(r[3][0],r[3][1]),!0}return!1}var j=t("./point"),b=t("./triangle"),c=t("./edge"),y=(t("./doublelinkedlist"),1e-9);e.exports=a},{"./doublelinkedlist":1,"./edge":2,"./point":3,"./triangle":5}]},{},[4]);